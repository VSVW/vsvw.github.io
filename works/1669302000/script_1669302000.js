const addressList = {"14d":[0,0],"20":[8,0],"203b":[16,0],"2070":[32,0],"2074":[40,0],"2075":[48,0],"2080":[56,0],"2081":[64,0],"2083":[72,0],"2084":[80,0],"2085":[88,0],"2103":[96,0],"2116":[112,0],"2192":[128,0],"21e9":[144,0],"2460":[160,0],"2461":[176,0],"25cf":[192,0],"25c6":[208,0],"25c7":[224,0],"27a1":[240,0],"28":[256,0],"29":[264,0],"2b05":[272,0],"2b06":[288,0],"2b07":[304,0],"2d":[320,0],"2f":[328,0],"2b":[336,0],"2e":[344,0],"30":[352,0],"3000":[360,0],"3001":[376,0],"3002":[392,0],"3005":[408,0],"300c":[424,0],"300d":[440,0],"301c":[456,0],"3042":[472,0],"3044":[488,0],"304a":[504,0],"304c":[520,0],"304d":[536,0],"304f":[552,0],"3051":[568,0],"3055":[584,0],"3057":[600,0],"3059":[616,0],"305f":[632,0],"305b":[648,0],"3060":[664,0],"3061":[680,0],"3064":[696,0],"3066":[712,0],"3067":[728,0],"3068":[744,0],"306b":[760,0],"306e":[776,0],"306f":[792,0],"3070":[808,0],"3072":[824,0],"3073":[840,0],"307e":[856,0],"307f":[872,0],"3080":[888,0],"3083":[904,0],"3089":[920,0],"308c":[936,0],"308a":[952,0],"308b":[968,0],"308f":[984,0],"3092":[1000,0],"30a4":[1016,0],"30aa":[1032,0],"30ab":[1048,0],"30ad":[1064,0],"30b1":[1080,0],"30b5":[1096,0],"30b9":[1112,0],"30bf":[1128,0],"30c1":[1144,0],"30c3":[1160,0],"30c8":[1176,0],"30c9":[1192,0],"30cb":[1208,0],"30ce":[1224,0],"30d3":[1240,0],"30d6":[1256,0],"30e1":[1272,0],"30e2":[1288,0],"30e5":[1304,0],"30e9":[1320,0],"30eb":[1336,0],"30ec":[1352,0],"30f3":[1368,0],"30fc":[1384,0],"30a2":[1400,0],"30a3":[1416,0],"30a6":[1432,0],"30a8":[1448,0],"30af":[1464,0],"30b0":[1480,0],"30b3":[1496,0],"30b7":[1512,0],"30c6":[1528,0],"30c7":[1544,0],"30cd":[1560,0],"30cf":[1576,0],"30d0":[1592,0],"30d1":[1608,0],"30d5":[1624,0],"30d7":[1640,0],"30db":[1656,0],"30de":[1672,0],"30e0":[1688,0],"30ea":[1704,0],"30ed":[1720,0],"30ef":[1736,0],"30f4":[1752,0],"30f6":[1768,0],"30fb":[1784,0],"31":[1800,0],"32":[1808,0],"33":[1816,0],"34":[1824,0],"35":[1832,0],"36":[1840,0],"37":[1848,0],"38":[1856,0],"39":[1864,0],"3a":[1872,0],"3c":[1880,0],"3e":[1888,0],"41":[1896,0],"42":[1904,0],"43":[1912,0],"44":[1920,0],"45":[1928,0],"46":[1936,0],"48":[1944,0],"49":[1952,0],"4d":[1960,0],"4e":[1968,0],"4e00":[1976,0],"4e09":[1992,0],"4e0a":[2008,0],"4e0b":[2024,0],"4e21":[2040,0],"4e2d":[2056,0],"4e57":[2072,0],"4e86":[2088,0],"4e88":[2104,0],"4e95":[2120,0],"4ed5":[2136,0],"4ee4":[2152,0],"4f":[2168,0],"4f4f":[2176,0],"4f5c":[2192,0],"4fc3":[2208,0],"4fdd":[2224,0],"4fe1":[2240,0],"4b":[2256,0],"4c":[2264,0],"4e01":[2272,0],"4e0d":[2288,0],"4e18":[2304,0],"4e45":[2320,0],"4e8b":[2336,0],"4e8c":[2352,0],"4eac":[2368,0],"4eba":[2384,0],"4ed6":[2400,0],"4ee3":[2416,0],"4ee5":[2432,0],"4ef6":[2448,0],"4f0a":[2464,0],"4f11":[2480,0],"4f1d":[2496,0],"4f4d":[2512,0],"4f53":[2528,0],"4fee":[2544,0],"50":[2560,0],"5024":[2568,0],"505c":[2584,0],"5074":[2600,0],"5098":[2616,0],"5099":[2632,0],"50be":[2648,0],"50cd":[2664,0],"512a":[2680,0],"5143":[2696,0],"5148":[2712,0],"5149":[2728,0],"5165":[2744,0],"5168":[2760,0],"516b":[2776,0],"516c":[2792,0],"516d":[2808,0],"5185":[2824,0],"518d":[2840,0],"51b7":[2856,0],"51e6":[2872,0],"51fa":[2888,0],"52":[2904,0],"5206":[2912,0],"5207":[2928,0],"5217":[2944,0],"521d":[2960,0],"5225":[2976,0],"5230":[2992,0],"5236":[3008,0],"523b":[3024,0],"524a":[3040,0],"524d":[3056,0],"5272":[3072,0],"529b":[3088,0],"52d5":[3104,0],"52a0":[3120,0],"52b9":[3136,0],"52d9":[3152,0],"52e2":[3168,0],"52e4":[3184,0],"53":[3200,0],"5316":[3208,0],"5317":[3224,0],"533a":[3240,0],"5343":[3256,0],"534a":[3272,0],"5357":[3288,0],"5358":[3304,0],"5370":[3320,0],"539a":[3336,0],"539f":[3352,0],"53d6":[3368,0],"53d7":[3384,0],"53f7":[3400,0],"53bb":[3416,0],"53c2":[3432,0],"53f0":[3448,0],"53f3":[3464,0],"53f8":[3480,0],"54":[3496,0],"5404":[3504,0],"5408":[3520,0],"5409":[3536,0],"540d":[3552,0],"5411":[3568,0],"544a":[3584,0],"548c":[3600,0],"54c1":[3616,0],"54e1":[3632,0],"55":[3648,0],"5510":[3656,0],"559a":[3672,0],"559c":[3688,0],"55b6":[3704,0],"56":[3720,0],"5668":[3728,0],"56de":[3744,0],"56fd":[3760,0],"5712":[3776,0],"571f":[3792,0],"5727":[3808,0],"5728":[3824,0],"5730":[3840,0],"5742":[3856,0],"57ce":[3872,0],"57df":[3888,0],"57fa":[3904,0],"5800":[3920,0],"5831":[3936,0],"5834":[3952,0],"585a":[3968,0],"58eb":[3984,0],"58c1":[4000,0],"5909":[4016,0],"5916":[4032,0],"591a":[4048,0],"5927":[4064,0],"5929":[4080,0],"592a":[4096,0],"592e":[4112,0],"5931":[4128,0],"5965":[4144,0],"5973":[4160,0],"59cb":[4176,0],"5a":[4192,0],"5b":[4200,0],"5b50":[4208,0],"5b6b":[4224,0],"5b89":[4240,0],"5b9a":[4256,0],"5ba2":[4272,0],"5bb3":[4288,0],"5bbf":[4304,0],"5c02":[4320,0],"5c0f":[4336,0],"5cf6":[4352,0],"5d":[4368,0],"5e2f":[4376,0],"5e38":[4392,0],"5e73":[4408,0],"5ef6":[4424,0],"5f71":[4440,0],"5f8c":[4456,0],"5fa1":[4472,0],"5fd8":[4488,0],"5b66":[4504,0],"5b87":[4520,0],"5b8c":[4536,0],"5ba4":[4552,0],"5bae":[4568,0],"5be9":[4584,0],"5bfa":[4600,0],"5c0e":[4616,0],"5c71":[4632,0],"5ddd":[4648,0],"5de6":[4664,0],"5e02":[4680,0],"5e2d":[4696,0],"5ea6":[4712,0],"5ea7":[4728,0],"5eab":[4744,0],"5eb7":[4760,0],"5f15":[4776,0],"5f31":[4792,0],"5f37":[4808,0],"5f84":[4824,0],"5f85":[4840,0],"5f92":[4856,0],"5fdc":[4872,0],"5feb":[4888,0],"6025":[4904,0],"6027":[4920,0],"60c5":[4936,0],"61":[4952,0],"610f":[4960,0],"614b":[4976,0],"62":[4992,0],"6210":[5000,0],"6211":[5016,0],"6212":[5032,0],"6238":[5048,0],"623f":[5064,0],"6240":[5080,0],"6247":[5096,0],"6249":[5112,0],"624b":[5128,0],"6253":[5144,0],"6271":[5160,0],"628a":[5176,0],"6291":[5192,0],"6298":[5208,0],"629e":[5224,0],"62bc":[5240,0],"62dd":[5256,0],"63":[5272,0],"6307":[5280,0],"631f":[5296,0],"633f":[5312,0],"6383":[5328,0],"638c":[5344,0],"63db":[5360,0],"63a5":[5376,0],"63e1":[5392,0],"63fa":[5408,0],"64":[5424,0],"640d":[5432,0],"643a":[5448,0],"6469":[5464,0],"65":[5480,0],"652f":[5488,0],"653e":[5504,0],"6545":[5520,0],"6551":[5536,0],"6570":[5552,0],"6574":[5568,0],"6587":[5584,0],"659c":[5600,0],"65b0":[5616,0],"65b9":[5632,0],"65e5":[5648,0],"65ad":[5664,0],"65c5":[5680,0],"65e9":[5696,0],"66":[5712,0],"660e":[5720,0],"6625":[5736,0],"663c":[5752,0],"6642":[5768,0],"666e":[5784,0],"6696":[5800,0],"6697":[5816,0],"66ae":[5832,0],"66f4":[5848,0],"67":[5864,0],"6708":[5872,0],"6709":[5888,0],"671f":[5904,0],"6728":[5920,0],"672c":[5936,0],"672b":[5952,0],"6749":[5968,0],"6771":[5984,0],"677e":[6000,0],"67b6":[6016,0],"67cf":[6032,0],"67fb":[6048,0],"68":[6064,0],"6817":[6072,0],"6848":[6088,0],"685c":[6104,0],"68d2":[6120,0],"68da":[6136,0],"69":[6152,0],"691c":[6160,0],"696d":[6176,0],"69d8":[6192,0],"69cb":[6208,0],"6a5f":[6224,0],"6b21":[6240,0],"6b62":[6256,0],"6b63":[6272,0],"6b66":[6288,0],"6c5f":[6304,0],"6cb3":[6320,0],"6d77":[6336,0],"6e05":[6352,0],"6e56":[6368,0],"6e7f":[6384,0],"6f":[6400,0],"6a":[6408,0],"6a19":[6416,0],"6a21":[6432,0],"6a2a":[6448,0],"6a4b":[6464,0],"6b":[6480,0],"6b8b":[6488,0],"6bd4":[6504,0],"6c":[6520,0],"6c17":[6528,0],"6c34":[6544,0],"6c60":[6560,0],"6ca2":[6576,0],"6cbb":[6592,0],"6cc1":[6608,0],"6cc9":[6624,0],"6ce8":[6640,0],"6d":[6656,0],"6d5c":[6664,0],"6d66":[6680,0],"6d88":[6696,0],"6df7":[6712,0],"6e":[6728,0],"6e0b":[6736,0],"6e1b":[6752,0],"6e29":[6768,0],"6e58":[6784,0],"6e6f":[6800,0],"6e90":[6816,0],"6e96":[6832,0],"6ec5":[6848,0],"70":[6864,0],"702c":[6872,0],"706b":[6888,0],"706f":[6904,0],"707d":[6920,0],"70b9":[6936,0],"70cf":[6952,0],"7121":[6968,0],"7167":[6984,0],"71b1":[7000,0],"72":[7016,0],"7269":[7024,0],"7279":[7040,0],"72b6":[7056,0],"72ed":[7072,0],"73":[7088,0],"7387":[7096,0],"7389":[7112,0],"73fe":[7128,0],"74":[7144,0],"7403":[7152,0],"7406":[7168,0],"745e":[7184,0],"75":[7200,0],"751f":[7208,0],"7528":[7224,0],"7530":[7240,0],"753a":[7256,0],"753b":[7272,0],"756a":[7288,0],"7570":[7304,0],"75c5":[7320,0],"767a":[7336,0],"767d":[7352,0],"767e":[7368,0],"76f4":[7384,0],"76ee":[7400,0],"76f8":[7416,0],"7701":[7432,0],"7740":[7448,0],"77e2":[7464,0],"77e5":[7480,0],"77ed":[7496,0],"77f3":[7512,0],"78ba":[7528,0],"78d0":[7544,0],"78ef":[7560,0],"79":[7576,0],"793a":[7584,0],"7950":[7600,0],"795e":[7616,0],"79cb":[7632,0],"79d2":[7648,0],"7a7a":[7664,0],"7d30":[7680,0],"7d42":[7696,0],"7dda":[7712,0],"7f6e":[7728,0],"7f8e":[7744,0],"7a0b":[7760,0],"7a2e":[7776,0],"7a32":[7792,0],"7a3c":[7808,0],"7a4d":[7824,0],"7aef":[7840,0],"7af9":[7856,0],"7b2c":[7872,0],"7b97":[7888,0],"7cf8":[7904,0],"7cfb":[7920,0],"7d04":[7936,0],"7d44":[7952,0],"7d66":[7968,0],"7d71":[7984,0],"7d9a":[8000,0],"7dbe":[8016,0],"7dca":[8032,0],"7dcf":[8048,0],"7de0":[8064,0],"7de8":[8080,0],"7de9":[8096,0],"7df4":[8112,0],"7fa4":[8128,0],"8001":[8144,0],"8003":[8160,0],"8005":[8176,0],"8010":[8192,0],"805e":[8208,0],"80fd":[8224,0],"8131":[8240,0],"81ea":[8256,0],"81e8":[8272,0],"822a":[8288,0],"8239":[8304,0],"826f":[8320,0],"8272":[8336,0],"8336":[8352,0],"8377":[8368,0],"83ca":[8384,0],"83ef":[8400,0],"8429":[8416,0],"8449":[8432,0],"84c4":[8448,0],"8535":[8464,0],"85e4":[8480,0],"884c":[8496,0],"8857":[8512,0],"8868":[8528,0],"888b":[8544,0],"88c5":[8560,0],"88dc":[8576,0],"897f":[8592,0],"898b":[8608,0],"89a7":[8624,0],"89e3":[8640,0],"8a2d":[8656,0],"8a66":[8672,0],"8a6b":[8688,0],"8a71":[8704,0],"8a73":[8720,0],"8a8d":[8736,0],"8abf":[8752,0],"8b66":[8768,0],"8b77":[8784,0],"8c37":[8800,0],"8def":[8816,0],"8eca":[8832,0],"8ee2":[8848,0],"8fbc":[8864,0],"8fd4":[8880,0],"8a08":[8896,0],"8a18":[8912,0],"8a8c":[8928,0],"8a98":[8944,0],"8d77":[8960,0],"8d8a":[8976,0],"8db3":[8992,0],"8ddd":[9008,0],"8e0f":[9024,0],"8eab":[9040,0],"8f2a":[9056,0],"9000":[9072,0],"9001":[9088,0],"901a":[9104,0],"901f":[9120,0],"9023":[9136,0],"9032":[9152,0],"9045":[9168,0],"904b":[9184,0],"904a":[9200,0],"904e":[9216,0],"9053":[9232,0],"9060":[9248,0],"9078":[9264,0],"907a":[9280,0],"907f":[9296,0],"90e8":[9312,0],"90fd":[9328,0],"90ce":[9344,0],"91cc":[9360,0],"91d1":[9376,0],"91ce":[9392,0],"91cf":[9408,0],"9244":[9424,0],"9326":[9440,0],"9332":[9456,0],"9577":[9472,0],"9580":[9488,0],"9589":[9504,0],"958b":[9520,0],"9593":[9536,0],"95a2":[9552,0],"9632":[9568,0],"964d":[9584,0],"9650":[9600,0],"9664":[9616,0],"9694":[9632,0],"969c":[9648,0],"96ea":[9664,0],"96fb":[9680,0],"96d1":[9696,0],"96e2":[9712,0],"9707":[9728,0],"971e":[9744,0],"975e":[9760,0],"9762":[9776,0],"97ff":[9792,0],"9803":[9808,0],"9805":[9824,0],"9818":[9840,0],"984c":[9856,0],"98a8":[9872,0],"98ef":[9888,0],"99c5":[9904,0],"99c6":[9920,0],"99d0":[9936,0],"99ac":[9952,0],"9a13":[9968,0],"9ad8":[9984,0],"9daf":[10000,0],"9e97":[10016,0],"9ed2":[10032,0],"b2":[10048,0],"b3":[10056,0],"b9":[10064,0],"ff08":[10072,0],"ff09":[10088,0],"ff0a":[10104,0],"ff0b":[10120,0],"ff0e":[10136,0],"ff0f":[10152,0],"ff10":[10168,0],"ff11":[10184,0],"ff12":[10200,0],"ff13":[10216,0],"ff14":[10232,0],"ff15":[10248,0],"ff16":[10264,0],"ff17":[10280,0],"ff18":[10296,0],"ff19":[10312,0],"ff1a":[10328,0],"ff21":[10344,0],"ff22":[10360,0],"ff23":[10376,0],"ff25":[10392,0],"ff26":[10408,0],"ff27":[10424,0],"ff28":[10440,0],"ff2b":[10456,0],"ff2d":[10472,0],"ff2f":[10488,0],"ff30":[10504,0],"ff33":[10520,0],"ff34":[10536,0],"ff39":[10552,0],"ff3a":[10568,0],"ff4b":[10584,0],"ff4d":[10600,0],"ff5e":[10616,0],"ff05":[10632,0],"ff0d":[10648,0],"ff24":[10664,0],"ff29":[10680,0],"ff2a":[10696,0],"ff2e":[10712,0],"ff32":[10728,0],"ff36":[10744,0],"ff37":[10760,0],"ff68":[10776,0],"ff6b":[10784,0],"ff6d":[10792,0],"ff6e":[10800,0],"ff6f":[10808,0],"ff70":[10816,0],"ff71":[10824,0],"ff72":[10832,0],"ff75":[10840,0],"ff77":[10848,0],"ff78":[10856,0],"ff7a":[10864,0],"ff7b":[10872,0],"ff7c":[10880,0],"ff7d":[10888,0],"ff7e":[10896,0],"ff80":[10904,0],"ff81":[10912,0],"ff83":[10920,0],"ff84":[10928,0],"ff86":[10936,0],"ff89":[10944,0],"ff8a":[10952,0],"ff8b":[10960,0],"ff8c":[10968,0],"ff8e":[10976,0],"ff8f":[10984,0],"ff91":[10992,0],"ff92":[11000,0],"ff93":[11008,0],"ff97":[11016,0],"ff98":[11024,0],"ff99":[11032,0],"ff9a":[11040,0],"ff9b":[11048,0],"ff9d":[11056,0],"ff9e":[11064,0],"ff9f":[11072,0]};
const exceptionList = ["b9","b2","b3","14d","2070","2071","2072","2073","2074","2075","2076","2077","2078","2079","2080","2081","2082","2083","2084","2085"];

function _1669302000_colorchange(){
  document.getElementById('colorDisplay').textContent = document.getElementById('textColor').value;
}

function _1669302000_run(){
  document.getElementById('errorInfo').classList.add('hidden');
  document.getElementById('errorInfo').innerHTML = '';
  const inputStr = document.getElementById('textInput').value;
  textColor = document.getElementById('textColor').value;
  let errorText = '以下の文字を変換できませんでした:<br>';
  let isError = false;
  let canvasElement = document.getElementById('imageOutput');
  let canvasContext = canvasElement.getContext('2d');
  let imageElement = document.getElementById('sourceImage');
  canvasContext.clearRect(0,0,canvasElement.width,canvasElement.height);
  const splitText = inputStr.split('');
  let sWidth = 0;
  let dx = 0;
  let maxWidth = 0;
  let maxHeight = 16;
  for(let i=0;i<splitText.length;i++){
    if(addressList[splitText[i].codePointAt(0).toString(16)] !== undefined && splitText[i].codePointAt(0).toString(10) !== '10'){
      if(splitText[i].codePointAt(0).toString(10) < 128 || splitText[i].codePointAt(0).toString(10) > 65377 || exceptionList.indexOf(splitText[i].codePointAt(0).toString(16)) !== -1){
        sWidth = 8;
      }else{
        sWidth = 16;
      }
      dx = dx + sWidth;
      if(dx > maxWidth){
        maxWidth = dx;
      }
    }else if(splitText[i].codePointAt(0).toString(10) === '10'){
      dx = 0;
      maxHeight = maxHeight + 16;
    }else{
      dx = dx + 16;
    }
  }
  if(dx > maxWidth){
    maxWidth = dx;
  }
  canvasElement.width = maxWidth;
  canvasElement.height = maxHeight;
  canvasContext.fillStyle = 'rgb(0,0,0)';
  canvasContext.fillRect(0,0,maxWidth,maxHeight);
  let sx = 0;
  let sy = 0;
  sWidth = 0;
  let sHeight = 16;
  dx = 0;
  let dy = 0;
  for(let i=0;i<splitText.length;i++){
    if(addressList[splitText[i].codePointAt(0).toString(16)] !== undefined && splitText[i].codePointAt(0).toString(10) !== '10'){
      sx = addressList[splitText[i].codePointAt(0).toString(16)][0];
      sy = addressList[splitText[i].codePointAt(0).toString(16)][1];
      if(splitText[i].codePointAt(0).toString(10) < 128 || splitText[i].codePointAt(0).toString(10) > 65377 || exceptionList.indexOf(splitText[i].codePointAt(0).toString(16)) !== -1){
        sWidth = 8;
      }else{
        sWidth = 16;
      }
      canvasContext.fillStyle = textColor;
      canvasContext.fillRect(dx,dy,sWidth,sHeight);
      canvasContext.drawImage(imageElement,sx,sy,sWidth,sHeight,dx,dy,sWidth,sHeight);
      dx = dx + sWidth;
    }else if(splitText[i].codePointAt(0).toString(10) === '10'){
      dx = 0;
      dy = dy + 16;
    }else{
      canvasContext.fillStyle = textColor;
      canvasContext.fillRect(dx,dy,16,16);
      canvasContext.drawImage(imageElement,0,16,16,16,dx,dy,16,16);
      isError = true;
      errorText += splitText[i] + ' (U+' + splitText[i].codePointAt(0).toString(16) + ')<br>';
      dx = dx + 16;
    }
  }
  if(isError === true){
    document.getElementById('errorInfo').classList.remove('hidden');
    document.getElementById('errorInfo').innerHTML = errorText;
  }
}
